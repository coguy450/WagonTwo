<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/materialize.min.css"/>
    <title>Movie / Show Search</title>
  </head>
  <body >
    <h4>Search for a movie or show</h4>
    <div id="movieDiv" class="">
      <div class="container row" style="vertical-align: center">
        <form v-on:submit.prevent="searchMovies">
        <div class="col s4">
          <select class="browser-default" v-model="selectedType" style="border 1px solid black" >
            <option value="movie">movie</option>
            <option value="channel">channel</option>
            <option value="person">person</option>
            <option value="show">show</option>
          </select>
        </div>
        <div class="col s5">
          <input placeholder="Movie or show name" type="text" class="input-field inline" v-model="queryString">
        </div>
        <div class="col s2">
          <button type="submit" name="button" class="waves-effect waves-light btn inline" >Search</button>
        </div>
        </form>
      </div>
      <div class="" v-if="sources">
        <span>Available on: </span><span v-if="sources && sources.length === 0">NOWHERE</span>
         <ul v-for="s in sources">
           <li v-if="s.name">{{s.name}} </li>
           <li v-if="s.display_name">{{s.display_name}}</li>
         </ul>
      </div>
      <div v-if="results">
        <ul class="collection row" >
         <li class="collection-item avatar" v-for="(m, index) in results">
           <img v-if="m.poster_120x171" v-bind:src="m.poster_120x171" alt="" class="square" style="height: 50px">
           <img v-if="m.artwork_208x117" v-bind:src="m.artwork_208x117" alt="" class="square" style="height: 50px">

           <span class="title">{{m.title}} ({{m.release_year}})</span>
           <a class="secondary-content" style="cursor:pointer" v-on:click="findMovie(m.id, index)"><i class="material-icons">View</i></a>
         </li>
         </ul>
      </div>
    </div>



    <script src="./js/vue.min.js"></script>
    <script src="js/vue-resource.min.js"></script>
    <script src="js/movies.js" type="text/javascript"></script>
  </body>
</html>
